import{v as e,$ as l}from"./vue-plugin-hiprint-CYnjQs36.js";import{d as a,a as t,b as s,j as i,g as n,f as p,r as o,_ as d,o as r,c as u,e as c,k as g,B as h,i as m,l as f}from"./index-Dr57ZsvO.js";import{_ as v,F as _,a as A}from"./UpOutlined-C6ZZqVHm.js";import{_ as y}from"./index-BfilBLXE.js";import{_ as b,a as S}from"./index-JNQj8ldN.js";import{C as x}from"./index-CkzeQEWB.js";import"./_commonjsHelpers-DN37M9Hi.js";const T=a({__name:"width",setup(e,{expose:l}){const a=t({width:70,height:40});return l({options:a}),(e,l)=>{const t=y,o=v,d=_;return s(),i(d,null,{default:n(()=>[p(o,{label:"宽度"},{default:n(()=>[p(t,{value:a.width,"onUpdate:value":l[0]||(l[0]=e=>a.width=e)},null,8,["value"])]),_:1}),p(o,{label:"高度"},{default:n(()=>[p(t,{value:a.height,"onUpdate:value":l[1]||(l[1]=e=>a.height=e)},null,8,["value"])]),_:1})]),_:1})}}}),C=a({__name:"json",props:{value:{type:Object,default:()=>({})}},setup(e,{expose:l}){const a=e,t=o(JSON.stringify(a.value,null,4));return l({value:()=>t.value}),(e,l)=>{const a=A;return s(),i(a,{value:t.value,"onUpdate:value":l[0]||(l[0]=e=>t.value=e),rows:14},null,8,["value"])}}}),L={class:"mb-[20px]"},E=d(a({__name:"index",setup(a){const t=o(),i=o(),d=o({qrcode:"KCY1234567980",qrValue:"KCY1234567980",title:"五虎上将·关羽",type:"华立科技 •《三国幻战》•中国简中",subType:"2025年 五虎上将系列",centTitle:"CENTERING",centValue:"10",corTitle:"CORNERS",corValue:"10",edeTitle:"EDEGS",edeValue:"10",surfaceTitle:"SURFACE",surfaceValue:"10",genTitle:"GEM MINT",genValue:"9.5"}),v=(a={})=>{var s,i;null==(s=t.value)||s.clear(),e.hiprint.init({providers:[new e.defaultElementTypeProvider]}),e.hiprint.setConfig(),e.hiprint.PrintElementTypeManager.buildByHtml(l(".ep-draggable-item")),l("#hiprint-printTemplate").empty(),a.panels&&(null==(i=null==a?void 0:a.panels)?void 0:i[0])&&(a.panels[0].paperNumberDisabled=!0),t.value=new e.hiprint.PrintTemplate({template:a,onImageChooseClick:e=>{setTimeout(()=>{e.refresh("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAtAAAAIIAQMAAAB99EudAAAABlBMVEUmf8vG2O41LStnAAABD0lEQVR42u3XQQqCQBSAYcWFS4/QUTpaHa2jdISWLUJjjMpclJoPGvq+1WsYfiJCZ4oCAAAAAAAAAAAAAAAAAHin6pL9c6H/fOzHbRrP0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0u/SY9LS0tLS0tLS0tLS0n+edm+UlpaWlpaWlpaWlpaW/tl0Ndyzbno7/+tPTJdd1wal69dNa6abx+Lq6TSeYtK7BX/Diek0XULSZZrakPRtV0i6Hu/KIt30q4fM0pvBqvR9mvsQkZaW9gyJT+f5lsnzjR54xAk8mAUeJyMPwYFH98ALx5Jr0kRLLndT7b64UX9QR/0eAAAAAAAAAAAAAAAAAAD/4gpryzr/bja4QgAAAABJRU5ErkJggg==",{real:!0})},3e3)},fontList:[{title:"思源黑体",value:"Noto Sans SC"},{title:"阿里巴巴普惠体",value:"alibaba"}],dataMode:1,history:!0,willOutOfBounds:!0,qtDesigner:!0,onDataChanged:(e,l)=>{console.log(e),console.log(l)},onUpdateError:e=>{console.log(e)},settingContainer:"#PrintElementOptionSetting",paginationContainer:".hiprint-printPagination"}),t.value.design("#hiprint-printTemplate",{grid:!0}),console.log(t)},_=()=>{var e;const l=null==(e=t.value)?void 0:e.getJson();let a;try{a=JSON.parse(localStorage.getItem("hiprintTemplate"))}catch(s){a={}}g({title:"查看json数据",component:C,componentOptions:{value:l||a},beforeClose:async e=>{let l;try{l=JSON.parse(e.value())}finally{l&&(localStorage.setItem("hiprintTemplate",JSON.stringify(l)),v(l))}}})},A=()=>{g({title:"设置大小",component:T,beforeClose:e=>{var l;const{width:a,height:s}=f(e.options);a&&s&&(null==(l=t.value)||l.setPaper(a,s))}})},y=e=>{var l,a,s,n;return i.value||(console.log(t.value),console.log(null==(l=t.value)?void 0:l.getJson()),i.value=null==(a=t.value)?void 0:a.getJson()),console.log(i.value),"web"===e?null==(s=t.value)?void 0:s.print(d.value):"client"===e?null==(n=t.value)?void 0:n.print2():void 0};return r(()=>{let e;try{e=JSON.parse(localStorage.getItem("hiprintTemplate"))}catch(l){e={}}v(e)}),(e,l)=>{const a=h,t=b,i=S,o=x;return s(),u("div",null,[c("div",L,[p(a,{type:"primary",onClick:_},{default:n(()=>l[2]||(l[2]=[m("查看JSON数据")])),_:1}),p(a,{class:"ml-[10px]",type:"primary",onClick:A},{default:n(()=>l[3]||(l[3]=[m("设置大小")])),_:1}),p(a,{class:"ml-[10px]",type:"primary",onClick:l[0]||(l[0]=e=>y("web"))},{default:n(()=>l[4]||(l[4]=[m("web打印")])),_:1}),p(a,{class:"ml-[10px]",type:"primary",onClick:l[1]||(l[1]=e=>y("client"))},{default:n(()=>l[5]||(l[5]=[m("打印机打印")])),_:1})]),p(t,{gutter:[8,0]},{default:n(()=>[p(i,{span:4},{default:n(()=>[p(o,{style:{height:"100vh"}},{default:n(()=>[p(t,null,{default:n(()=>[p(i,{span:24,class:"rect-printElement-types hiprintEpContainer"},{default:n(()=>[p(t,{class:"drag_item_title"},{default:n(()=>l[6]||(l[6]=[m("拖拽组件列表")])),_:1}),p(t,{style:{height:"100px"}},{default:n(()=>[p(i,{span:12,class:"drag_item_box"},{default:n(()=>l[7]||(l[7]=[c("div",null,[c("a",{class:"ep-draggable-item",tid:"defaultModule.text"},[c("span",{class:"glyphicon glyphicon-text-width","aria-hidden":"true"}),c("p",{class:"glyphicon-class"},"文本")])],-1)])),_:1})]),_:1}),p(t,{style:{height:"100px"}},{default:n(()=>[p(i,{span:12,class:"drag_item_box"},{default:n(()=>l[8]||(l[8]=[c("div",null,[c("a",{class:"ep-draggable-item",tid:"defaultModule.longText"},[c("span",{class:"glyphicon glyphicon-subscript","aria-hidden":"true"}),c("p",{class:"glyphicon-class"},"长文")])],-1)])),_:1}),p(i,{span:12,class:"drag_item_box"},{default:n(()=>l[9]||(l[9]=[c("div",null,[c("a",{class:"ep-draggable-item",tid:"defaultModule.table"},[c("span",{class:"glyphicon glyphicon-th","aria-hidden":"true"}),c("p",{class:"glyphicon-class"},"表格")])],-1)])),_:1})]),_:1}),p(t,{style:{height:"100px"}},{default:n(()=>[p(i,{span:12,class:"drag_item_box"},{default:n(()=>l[10]||(l[10]=[c("div",null,[c("a",{class:"ep-draggable-item",tid:"defaultModule.emptyTable"},[c("span",{class:"glyphicon glyphicon-th","aria-hidden":"true"}),c("p",{class:"glyphicon-class"},"空白表格")])],-1)])),_:1})]),_:1}),p(t,{style:{height:"100px"}},{default:n(()=>[p(i,{span:12,class:"drag_item_box"},{default:n(()=>l[11]||(l[11]=[c("div",null,[c("a",{class:"ep-draggable-item",tid:"defaultModule.html",style:{}},[c("span",{class:"glyphicon glyphicon-header","aria-hidden":"true"}),c("p",{class:"glyphicon-class"},"html")])],-1)])),_:1}),p(i,{span:12,class:"drag_item_box"},{default:n(()=>l[12]||(l[12]=[c("div",null,[c("a",{class:"ep-draggable-item",tid:"defaultModule.customText"},[c("span",{class:"glyphicon glyphicon-text-width","aria-hidden":"true"}),c("p",{class:"glyphicon-class"},"自定义")])],-1)])),_:1})]),_:1}),p(t,{class:"drag_item_title"},{default:n(()=>l[13]||(l[13]=[m("辅助")])),_:1}),p(t,{style:{height:"100px"}},{default:n(()=>[p(i,{span:12,class:"drag_item_box"},{default:n(()=>l[14]||(l[14]=[c("div",null,[c("a",{class:"ep-draggable-item",tid:"defaultModule.barcode"},[c("span",{class:"glyphicon glyphicon-barcode","aria-hidden":"true"}),c("p",{class:"glyphicon-class"},"条形码")])],-1)])),_:1}),p(i,{span:12,class:"drag_item_box"},{default:n(()=>l[15]||(l[15]=[c("div",null,[c("a",{class:"ep-draggable-item",tid:"defaultModule.qrcode"},[c("span",{class:"glyphicon glyphicon-qrcode","aria-hidden":"true"}),c("p",{class:"glyphicon-class"},"二维码")])],-1)])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),p(i,{span:15},{default:n(()=>[p(o,{class:"card-design"},{default:n(()=>l[16]||(l[16]=[c("div",{id:"hiprint-printTemplate",class:"hiprint-printTemplate"},null,-1)])),_:1})]),_:1}),p(i,{span:5,class:"params_setting_container"},{default:n(()=>[p(o,null,{default:n(()=>[p(t,{class:"hinnn-layout-sider"},{default:n(()=>l[17]||(l[17]=[c("div",{id:"PrintElementOptionSetting"},null,-1)])),_:1})]),_:1})]),_:1})]),_:1})])}}}),[["__scopeId","data-v-4a7bf1cf"]]);export{E as default};
//# sourceMappingURL=index-Cplcra3z.js.map
